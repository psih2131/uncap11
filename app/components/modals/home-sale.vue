<template>
  <div class="modal-pay modal-pay--home-sale">
    <div class="modal-pay__close" @click="closePopup()">
      <svg
        width="24"
        height="24"
        viewBox="0 0 24 24"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          d="M18 6L6 18M6 6L18 18"
          stroke="#B3A3FF"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"
        />
      </svg>
    </div>
    <div class="modal-pay__icon-wrapper">
      <svg
        width="80"
        height="83"
        viewBox="0 0 80 83"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          d="M29.9856 14.484C35.1534 8.70533 44.1982 8.70532 49.3661 14.484L53.708 19.3391C54.9422 20.7192 56.4569 21.8197 58.1508 22.5671L64.11 25.1962C71.2029 28.3254 73.9978 36.9274 70.0989 43.6281L66.8232 49.2578C65.892 50.8581 65.3135 52.6388 65.1262 54.4807L64.4672 60.9607C63.683 68.6734 56.3656 73.9897 48.7881 72.3523L42.4217 70.9765C40.612 70.5854 38.7396 70.5854 36.93 70.9765L30.5635 72.3523C22.986 73.9897 15.6686 68.6734 14.8844 60.9607L14.2255 54.4807C14.0382 52.6388 13.4596 50.8581 12.5284 49.2578L9.25268 43.6281C5.35377 36.9274 8.14875 28.3254 15.2416 25.1962L21.2008 22.5671C22.8947 21.8197 24.4095 20.7192 25.6437 19.3391L29.9856 14.484Z"
          fill="#D2C9FF"
        />
        <g clip-path="url(#clip0_2168_6041)">
          <path
            d="M41.8568 30.2065C41.7126 30.18 41.5643 30.1855 41.4225 30.2226C41.2807 30.2597 41.1487 30.3276 41.036 30.4214C40.9234 30.5152 40.8327 30.6326 40.7704 30.7654C40.7082 30.8981 40.6758 31.0429 40.6758 31.1895V34.0685C39.0074 33.8485 37.3121 34.1566 35.8279 34.9496C34.3437 35.7427 33.1452 36.9807 32.4008 38.4898C31.6563 39.999 31.4034 41.7034 31.6774 43.3637C31.9514 45.0241 32.7387 46.5568 33.9286 47.7467C35.1185 48.9366 36.6512 49.7239 38.3115 49.9979C39.9718 50.2719 41.6763 50.0189 43.1854 49.2745C44.6946 48.5301 45.9326 47.3316 46.7256 45.8474C47.5186 44.3632 47.8268 42.6678 47.6068 40.9995H50.4928C50.6394 40.9994 50.7842 40.9671 50.9169 40.9049C51.0497 40.8426 51.1671 40.7519 51.2609 40.6392C51.3547 40.5266 51.4226 40.3946 51.4597 40.2528C51.4968 40.111 51.5023 39.9627 51.4758 39.8185C51.0269 37.434 49.8685 35.2406 48.1521 33.5256C46.4358 31.8105 44.2416 30.6536 41.8568 30.2065V30.2065ZM43.6758 42.9995H41.3988C41.2461 43.2647 41.0343 43.4912 40.78 43.6615C40.5257 43.8318 40.2356 43.9412 39.9322 43.9813C39.6288 44.0214 39.3202 43.9912 39.0304 43.8929C38.7405 43.7946 38.4772 43.6309 38.2608 43.4145C38.0444 43.1981 37.8807 42.9348 37.7824 42.6449C37.6841 42.3551 37.6538 42.0465 37.694 41.7431C37.7341 41.4397 37.8435 41.1496 38.0138 40.8953C38.184 40.6409 38.4105 40.4292 38.6758 40.2765V36.9995C38.6758 36.7343 38.7811 36.4799 38.9687 36.2924C39.1562 36.1049 39.4106 35.9995 39.6758 35.9995C39.941 35.9995 40.1953 36.1049 40.3829 36.2924C40.5704 36.4799 40.6758 36.7343 40.6758 36.9995V40.2765C40.9754 40.4508 41.2245 40.6999 41.3988 40.9995H43.6758C43.941 40.9995 44.1953 41.1049 44.3829 41.2924C44.5704 41.4799 44.6758 41.7343 44.6758 41.9995C44.6758 42.2647 44.5704 42.5191 44.3829 42.7066C44.1953 42.8941 43.941 42.9995 43.6758 42.9995V42.9995ZM30.6618 34.9675C30.8559 35.0044 31.0347 35.098 31.1757 35.2364C31.3167 35.3749 31.4135 35.552 31.4539 35.7454C31.4943 35.9388 31.4765 36.1399 31.4027 36.3232C31.329 36.5065 31.2025 36.6639 31.0394 36.7754C30.8763 36.8869 30.6838 36.9476 30.4863 36.9498C30.2887 36.9521 30.0949 36.8957 29.9293 36.7879C29.7637 36.6801 29.6338 36.5256 29.5559 36.344C29.4781 36.1624 29.4557 35.9618 29.4918 35.7675C29.5158 35.638 29.5652 35.5146 29.637 35.4042C29.7089 35.2938 29.8019 35.1988 29.9106 35.1244C30.0193 35.0501 30.1416 34.998 30.2705 34.971C30.3994 34.9441 30.5324 34.9429 30.6618 34.9675ZM29.0618 38.9545C29.2559 38.9914 29.4347 39.085 29.5757 39.2234C29.7167 39.3619 29.8135 39.539 29.8539 39.7324C29.8943 39.9258 29.8765 40.1269 29.8027 40.3102C29.729 40.4935 29.6025 40.6509 29.4394 40.7624C29.2763 40.8739 29.0838 40.9346 28.8863 40.9368C28.6887 40.9391 28.4949 40.8827 28.3293 40.7749C28.1637 40.6671 28.0338 40.5126 27.9559 40.331C27.8781 40.1494 27.8557 39.9488 27.8918 39.7545C27.9158 39.6253 27.9651 39.5021 28.0368 39.392C28.1084 39.2819 28.2011 39.1869 28.3095 39.1127C28.4179 39.0384 28.5398 38.9861 28.6684 38.959C28.797 38.9319 28.9296 38.9303 29.0588 38.9545H29.0618ZM37.8038 51.8225C37.9981 51.8597 38.1769 51.9536 38.3178 52.0924C38.4587 52.2313 38.5552 52.4088 38.5952 52.6025C38.6352 52.7962 38.6169 52.9974 38.5425 53.1807C38.4682 53.364 38.3411 53.5211 38.1774 53.6322C38.0138 53.7432 37.8208 53.8033 37.6231 53.8047C37.4253 53.8061 37.2315 53.7488 37.0663 53.6401C36.901 53.5314 36.7717 53.3761 36.6948 53.1939C36.6178 53.0117 36.5966 52.8108 36.6338 52.6165C36.6837 52.3567 36.8346 52.1273 37.0533 51.9785C37.272 51.8297 37.5408 51.7736 37.8008 51.8225H37.8038ZM33.6838 31.8995C33.8779 31.9364 34.0567 32.03 34.1977 32.1684C34.3387 32.3069 34.4355 32.484 34.4759 32.6774C34.5163 32.8708 34.4985 33.0719 34.4247 33.2552C34.351 33.4385 34.2245 33.5959 34.0614 33.7074C33.8983 33.8189 33.7058 33.8796 33.5083 33.8818C33.3107 33.8841 33.1169 33.8277 32.9513 33.7199C32.7857 33.6121 32.6558 33.4576 32.5779 33.276C32.5001 33.0944 32.4777 32.8938 32.5138 32.6995C32.5378 32.57 32.5872 32.4466 32.659 32.3362C32.7309 32.2258 32.8239 32.1308 32.9326 32.0564C33.0413 31.9821 33.1636 31.93 33.2925 31.903C33.4214 31.8761 33.5544 31.8749 33.6838 31.8995V31.8995ZM37.8578 30.2085C38.0516 30.2489 38.229 30.3458 38.3677 30.4871C38.5063 30.6284 38.5999 30.8077 38.6366 31.0022C38.6733 31.1968 38.6514 31.3978 38.5737 31.5799C38.496 31.762 38.366 31.9169 38.2002 32.0251C38.0344 32.1332 37.8403 32.1897 37.6423 32.1874C37.4444 32.1851 37.2515 32.1241 37.0883 32.0122C36.925 31.9002 36.7987 31.7423 36.7253 31.5585C36.6518 31.3746 36.6346 31.1731 36.6758 30.9795C36.7308 30.7208 36.886 30.4944 37.1076 30.3499C37.3291 30.2054 37.5988 30.1546 37.8578 30.2085V30.2085ZM27.9098 44.0455C27.9467 43.8514 28.0403 43.6726 28.1787 43.5316C28.3172 43.3906 28.4943 43.2938 28.6877 43.2534C28.8811 43.213 29.0822 43.2308 29.2655 43.3046C29.4488 43.3783 29.6061 43.5047 29.7177 43.6679C29.8292 43.831 29.8899 44.0235 29.8921 44.221C29.8943 44.4186 29.838 44.6124 29.7302 44.778C29.6223 44.9436 29.4679 45.0735 29.2863 45.1514C29.1047 45.2292 28.9041 45.2515 28.7098 45.2155C28.5803 45.1915 28.4568 45.1421 28.3465 45.0703C28.2361 44.9984 28.141 44.9054 28.0667 44.7967C27.9924 44.688 27.9402 44.5657 27.9133 44.4368C27.8864 44.3078 27.8852 44.1749 27.9098 44.0455V44.0455ZM29.5908 48.0085C29.6277 47.8144 29.7213 47.6356 29.8597 47.4946C29.9982 47.3536 30.1753 47.2568 30.3687 47.2164C30.5621 47.176 30.7632 47.1938 30.9465 47.2676C31.1298 47.3413 31.2871 47.4677 31.3987 47.6309C31.5102 47.794 31.5709 47.9865 31.5731 48.184C31.5753 48.3816 31.519 48.5754 31.4112 48.741C31.3033 48.9066 31.1489 49.0365 30.9673 49.1144C30.7857 49.1922 30.5851 49.2145 30.3908 49.1785C30.2613 49.1545 30.1378 49.1051 30.0275 49.0333C29.9171 48.9614 29.822 48.8684 29.7477 48.7597C29.6734 48.651 29.6212 48.5287 29.5943 48.3998C29.5674 48.2708 29.5662 48.1379 29.5908 48.0085V48.0085ZM32.6428 50.9995C32.6797 50.8054 32.7733 50.6266 32.9117 50.4856C33.0502 50.3446 33.2273 50.2478 33.4207 50.2074C33.6141 50.167 33.8152 50.1848 33.9985 50.2586C34.1818 50.3323 34.3391 50.4587 34.4507 50.6219C34.5622 50.785 34.6229 50.9775 34.6251 51.175C34.6273 51.3726 34.571 51.5664 34.4632 51.732C34.3553 51.8976 34.2009 52.0275 34.0193 52.1054C33.8377 52.1832 33.6371 52.2055 33.4428 52.1695C33.3133 52.1455 33.1898 52.0961 33.0795 52.0243C32.9691 51.9524 32.874 51.8594 32.7997 51.7507C32.7254 51.642 32.6732 51.5197 32.6463 51.3908C32.6194 51.2618 32.6182 51.1289 32.6428 50.9995V50.9995ZM48.6898 49.0325C48.4957 48.9956 48.3168 48.902 48.1759 48.7636C48.0349 48.6251 47.9381 48.448 47.8977 48.2546C47.8573 48.0612 47.8751 47.8601 47.9488 47.6768C48.0226 47.4935 48.149 47.3361 48.3121 47.2246C48.4752 47.1131 48.6677 47.0524 48.8653 47.0502C49.0629 47.0479 49.2567 47.1043 49.4223 47.2121C49.5878 47.32 49.7178 47.4744 49.7956 47.656C49.8735 47.8376 49.8958 48.0382 49.8598 48.2325C49.8356 48.3619 49.7862 48.4853 49.7143 48.5955C49.6424 48.7058 49.5494 48.8007 49.4407 48.8749C49.332 48.9492 49.2097 49.0012 49.0808 49.0281C48.952 49.055 48.8191 49.0561 48.6898 49.0315V49.0325ZM45.6678 52.0995C45.4737 52.0626 45.2948 51.969 45.1539 51.8306C45.0129 51.6921 44.9161 51.515 44.8757 51.3216C44.8353 51.1282 44.8531 50.9271 44.9268 50.7438C45.0006 50.5605 45.127 50.4032 45.2901 50.2916C45.4532 50.1801 45.6457 50.1194 45.8433 50.1172C46.0409 50.1149 46.2347 50.1713 46.4003 50.2791C46.5658 50.387 46.6958 50.5414 46.7736 50.723C46.8515 50.9046 46.8738 51.1052 46.8378 51.2995C46.8138 51.429 46.7644 51.5525 46.6925 51.6628C46.6207 51.7732 46.5277 51.8682 46.419 51.9426C46.3103 52.0169 46.1879 52.069 46.059 52.096C45.9301 52.1229 45.7972 52.1241 45.6678 52.0995V52.0995ZM41.7288 53.7555C41.5345 53.7184 41.3556 53.6245 41.2148 53.4857C41.0739 53.347 40.9773 53.1695 40.9372 52.9759C40.8971 52.7822 40.9154 52.581 40.9897 52.3977C41.0639 52.2144 41.1909 52.0573 41.3544 51.9462C41.518 51.835 41.7109 51.7749 41.9086 51.7733C42.1064 51.7718 42.3002 51.8289 42.4655 51.9374C42.6307 52.046 42.7601 52.2012 42.8373 52.3833C42.9144 52.5654 42.9358 52.7662 42.8988 52.9605C42.8482 53.2204 42.6966 53.4496 42.4773 53.5979C42.258 53.7461 41.9888 53.8014 41.7288 53.7515V53.7555ZM51.3878 43.9995C51.3878 44.1973 51.3291 44.3906 51.2192 44.5551C51.1094 44.7195 50.9532 44.8477 50.7705 44.9234C50.5877 44.9991 50.3867 45.0189 50.1927 44.9803C49.9987 44.9417 49.8205 44.8465 49.6807 44.7066C49.5408 44.5668 49.4456 44.3886 49.407 44.1946C49.3684 44.0006 49.3882 43.7995 49.4639 43.6168C49.5396 43.4341 49.6678 43.2779 49.8322 43.168C49.9967 43.0582 50.19 42.9995 50.3878 42.9995C50.653 42.9995 50.9073 43.1049 51.0949 43.2924C51.2824 43.4799 51.3878 43.7343 51.3878 43.9995Z"
            fill="#563AE3"
          />
        </g>
        <path
          d="M62.7212 5.08502C63.6544 3.07563 66.5111 3.07563 67.4443 5.08502V5.08502C67.8237 5.90195 68.5983 6.46478 69.4925 6.57315V6.57315C71.6919 6.83972 72.5747 9.55658 70.952 11.065V11.065C70.2923 11.6783 69.9964 12.589 70.1696 13.4729V13.4729C70.5958 15.647 68.2847 17.3261 66.3486 16.249V16.249C65.5615 15.8111 64.604 15.8111 63.8169 16.249V16.249C61.8808 17.3261 59.5697 15.647 59.9959 13.4729V13.4729C60.1691 12.589 59.8732 11.6783 59.2135 11.065V11.065C57.5908 9.55658 58.4736 6.83972 60.673 6.57315V6.57315C61.5672 6.46478 62.3419 5.90195 62.7212 5.08502V5.08502Z"
          fill="#D2C9FF"
        />
        <defs>
          <clipPath id="clip0_2168_6041">
            <rect
              width="24"
              height="24"
              fill="white"
              transform="translate(27.6758 30)"
            />
          </clipPath>
        </defs>
      </svg>
    </div>

    <p class="modal-pay__title">
      Launch offer:<br />Account with Premium Access for $29.99
    </p>
    <p class="modal-pay__subtitle">
      Stop paying separately for LinkedIn Premium. Already connected for a year
      ahead.
    </p>

    <div class="modal-pay__btn-row-sale">
      <div class="modal-pay--home-sale__row-hot">
        <div class="modal-pay--home-sale__hot">
          <svg
            width="18"
            height="18"
            viewBox="0 0 18 18"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <g clip-path="url(#clip0_2168_6058)">
              <path
                fill-rule="evenodd"
                clip-rule="evenodd"
                d="M5.14966 8.06862C4.7219 4.23349 6.96212 1.53611 11.1633 0C8.59084 3.33828 13.3565 6.95439 13.6196 10.4206C14.2355 9.36954 14.5853 7.96719 14.6544 6.09152C17.8046 11.0335 15.1924 19.111 8.2601 17.9497C7.62361 17.8439 7.01063 17.6425 6.45205 17.3426C3.92371 15.9932 2.41406 13.0518 2.41406 10.2427C2.41406 8.45228 3.17991 6.85443 4.17067 5.58439C4.30296 6.82797 4.5852 7.75552 5.14966 8.06862Z"
                fill="#E33A3A"
              />
              <path
                fill-rule="evenodd"
                clip-rule="evenodd"
                d="M7.39018 13.6039C6.67578 11.7591 6.77426 8.77952 8.77488 7.73438C8.78958 11.1594 12.1631 11.596 11.5384 15.2518C12.1146 14.5991 12.4057 13.5554 12.4571 12.7308C13.3715 14.824 12.6541 16.4983 11.3503 17.3509C7.38577 19.9439 3.97252 14.6873 6.24214 11.8062C6.31123 12.45 7.09913 13.4437 7.39018 13.6039Z"
                fill="#D2C9FF"
              />
            </g>
            <defs>
              <clipPath id="clip0_2168_6058">
                <rect width="18" height="18" fill="white" />
              </clipPath>
            </defs>
          </svg>

          Save $400+ a year
        </div>
      </div>
      <a
        href="#pricing"
        class="plans-sec-v2__btn-v2"
        @click.prevent="goToPricing"
      >
        <svg
          width="24"
          height="24"
          viewBox="0 0 24 24"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M5 12H19M19 12L12 5M19 12L12 19"
            stroke="white"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
          />
        </svg>

        <span class="plans-sec-v2__btn-v2-text">See Pricing</span>
      </a>
    </div>
  </div>
</template>

<script setup>
import { useCounterStore } from "@/stores/counter";

const store = useCounterStore();

const SCROLL_ANCHOR_OFFSET_DESKTOP = 100;
const SCROLL_ANCHOR_OFFSET_MOBILE = 110;
const MOBILE_BREAKPOINT = 765;

function closePopup() {
  store.modalController.name = null;
  setTimeout(() => {
    store.modalController.status = false;
  }, 300);
}

function scrollToAnchor(href) {
  if (!href || !href.startsWith("#")) return;
  const id = href.slice(1);
  const el = document.getElementById(id);
  if (el) {
    const offset =
      typeof window !== "undefined" && window.innerWidth <= MOBILE_BREAKPOINT
        ? SCROLL_ANCHOR_OFFSET_MOBILE
        : SCROLL_ANCHOR_OFFSET_DESKTOP;
    const top = el.getBoundingClientRect().top + window.scrollY - offset;
    window.scrollTo({ top, behavior: "smooth" });
  }
}

function goToPricing() {
  closePopup();
  setTimeout(() => scrollToAnchor("#pricing"), 350);
}
</script>
